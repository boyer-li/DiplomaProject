{"remainingRequest":"D:\\Java\\ideahome\\DiplomaProject\\linjiashop-mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Java\\ideahome\\DiplomaProject\\linjiashop-mobile\\src\\view\\search\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Java\\ideahome\\DiplomaProject\\linjiashop-mobile\\src\\view\\search\\index.vue","mtime":1683192024471},{"path":"D:\\Java\\ideahome\\DiplomaProject\\linjiashop-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683192017723},{"path":"D:\\Java\\ideahome\\DiplomaProject\\linjiashop-mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1683192017549},{"path":"D:\\Java\\ideahome\\DiplomaProject\\linjiashop-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683192017723},{"path":"D:\\Java\\ideahome\\DiplomaProject\\linjiashop-mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1683192023948}],"contextDependencies":[],"result":["\r\n    import goods from '@/api/goods'\r\n    const baseApi = process.env.VUE_APP_BASE_API\r\n    import {\r\n        Divider,\r\n        List,\r\n        Toast,\r\n        Cell,\r\n        CellGroup,\r\n        Card,\r\n        Col,\r\n        Icon,\r\n        Lazyload,\r\n        Row,\r\n        Tab,\r\n        Tabbar,\r\n        TabbarItem,\r\n        Tabs,\r\n        Search\r\n    } from 'vant';\r\n\r\n    export default {\r\n        components: {\r\n            [Divider.name]: Divider,\r\n            [List.name]: List,\r\n            [Toast.name]:Toast,\r\n            [Row.name]: Row,\r\n            [Col.name]: Col,\r\n            [Icon.name]: Icon,\r\n            [Cell.name]: Cell,\r\n            [CellGroup.name]: CellGroup,\r\n            [Tabbar.name]: Tabbar,\r\n            [TabbarItem.name]: TabbarItem,\r\n            [Tab.name]: Tab,\r\n            [Tabs.name]: Tabs,\r\n            [Card.name]: Card,\r\n            [Search.name]:Search,\r\n            Lazyload\r\n\r\n\r\n        },\r\n        data() {\r\n            return {\r\n                searchKey:'',\r\n                loading:false,\r\n                finished:false,\r\n                goodsList: [],\r\n                activeFooter: 1,\r\n                listQuery: {\r\n                    page: 1,\r\n                    limit: 20,\r\n                    key:''\r\n                },\r\n            }\r\n        },\r\n        mounted(){\r\n            this.init()\r\n        },\r\n        methods: {\r\n            init(){\r\n                this.searchHot()\r\n            },\r\n            searchGoods(){\r\n                goods.search(this.listQuery).then( response => {\r\n                    let list = response.data.records\r\n                    for(var index in  list){\r\n                        const item = list[index]\r\n                        item.img = baseApi+'/file/getImgStream?idFile=' + item.pic\r\n                    }\r\n                    this.goodsList = list\r\n                    this.loading=false\r\n\r\n                }).catch( (err) => {\r\n                    Toast.fail(err)\r\n                    this.loading=false\r\n                })\r\n\r\n            },\r\n            searchHot(){\r\n                goods.searchHot().then( response =>{\r\n                    let list = response.data\r\n                    for(var index in  list){\r\n                        const item = list[index]\r\n                        item.img = baseApi+'/file/getImgStream?idFile=' + item.pic\r\n                    }\r\n                    this.goodsList = list\r\n                    this.loading=false\r\n                }).catch( (err) => {\r\n                    Toast.fail(err)\r\n                    this.loading=false\r\n                })\r\n            },\r\n            viewGoodsDetail(id){\r\n                this.$router.push({path:'/goods/'+id})\r\n            },\r\n            formatPrice(price) {\r\n                return (price / 100).toFixed(2)\r\n            }\r\n        }\r\n    };\r\n",null]}